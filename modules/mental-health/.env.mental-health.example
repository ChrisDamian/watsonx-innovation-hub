# =============================================================================
# MENTAL HEALTH MODULE - ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains environment variables specific to the Mental Health module
# Copy this file to .env.mental-health and update with your actual values
# =============================================================================

# -----------------------------------------------------------------------------
# MODULE IDENTIFICATION
# -----------------------------------------------------------------------------
MODULE_NAME=mental-health
MODULE_VERSION=1.0.0
MODULE_PORT=5001
MODULE_HOST=localhost

# -----------------------------------------------------------------------------
# WATSONX MENTAL HEALTH SPECIFIC CONFIGURATION
# -----------------------------------------------------------------------------
# DSM Dataset Configuration
DSM_DATASET_ID=dsm-5-tr-dataset-2024
DSM_VERSION=DSM-5-TR
DSM_LANGUAGE_MODELS=en,sw,fr
DSM_CLASSIFICATION_MODEL_ID=dsm-classifier-v2
DSM_SEVERITY_MODEL_ID=dsm-severity-v1
DSM_RISK_ASSESSMENT_MODEL_ID=risk-assessment-v3

# Mental Health Specific Models
MENTAL_HEALTH_TRIAGE_MODEL=mental-health-triage-v3
MENTAL_HEALTH_CHAT_MODEL=mental-health-chat-multilingual-v2
MENTAL_HEALTH_CRISIS_MODEL=crisis-intervention-v1
MENTAL_HEALTH_CULTURAL_MODEL=cultural-adaptation-v2

# Model Deployment IDs (Generated after deployment)
DSM_CLASSIFIER_DEPLOYMENT_ID=
TRIAGE_MODEL_DEPLOYMENT_ID=
CHAT_MODEL_DEPLOYMENT_ID=
RISK_MODEL_DEPLOYMENT_ID=

# Training Configuration
DSM_TRAINING_DATA_PATH=/datasets/mental-health/dsm-training
DSM_VALIDATION_SPLIT=0.2
DSM_TEST_SPLIT=0.1
DSM_BATCH_SIZE=16
DSM_LEARNING_RATE=2e-5
DSM_MAX_EPOCHS=5
DSM_EARLY_STOPPING_PATIENCE=3

# Cultural Adaptation Settings
CULTURAL_ADAPTATION_ENABLED=true
SUPPORTED_CULTURES=east_african,west_african,francophone_african,european
CULTURAL_BIAS_DETECTION=true
CULTURAL_SENSITIVITY_THRESHOLD=0.85

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION (Mental Health Specific)
# -----------------------------------------------------------------------------
# MongoDB Collections
MH_MONGODB_COLLECTION_ASSESSMENTS=mental_health_assessments
MH_MONGODB_COLLECTION_PATIENTS=mental_health_patients
MH_MONGODB_COLLECTION_SESSIONS=mental_health_sessions
MH_MONGODB_COLLECTION_MODELS=mental_health_models

# PostgreSQL Tables
MH_POSTGRES_TABLE_AUDIT=mental_health_audit_logs
MH_POSTGRES_TABLE_COMPLIANCE=mental_health_compliance
MH_POSTGRES_TABLE_GOVERNANCE=mental_health_governance

# Redis Keys Prefix
MH_REDIS_PREFIX=mh:
MH_REDIS_SESSION_TTL=1800  # 30 minutes
MH_REDIS_CACHE_TTL=3600    # 1 hour

# -----------------------------------------------------------------------------
# HIPAA COMPLIANCE CONFIGURATION
# -----------------------------------------------------------------------------
HIPAA_COMPLIANCE_MODE=true
HIPAA_AUDIT_LEVEL=comprehensive
HIPAA_DATA_RETENTION_DAYS=2555  # 7 years
HIPAA_AUTOMATIC_LOGOFF_MINUTES=15
HIPAA_SESSION_TIMEOUT_MINUTES=30
HIPAA_PASSWORD_COMPLEXITY=high
HIPAA_MFA_REQUIRED=true

# PHI (Protected Health Information) Settings
PHI_ENCRYPTION_ENABLED=true
PHI_ENCRYPTION_ALGORITHM=AES-256-GCM
PHI_ACCESS_LOGGING=true
PHI_ANONYMIZATION_ENABLED=true
PHI_PSEUDONYMIZATION_ENABLED=true

# Business Associate Agreement
BAA_REQUIRED=true
BAA_TEMPLATE_PATH=config/legal/baa-template.pdf
BAA_SIGNED_AGREEMENTS_PATH=documents/signed-baas/

# -----------------------------------------------------------------------------
# CLINICAL VALIDATION CONFIGURATION
# -----------------------------------------------------------------------------
CLINICAL_VALIDATION_ENABLED=true
CLINICAL_ACCURACY_THRESHOLD=0.85
CLINICAL_SENSITIVITY_THRESHOLD=0.90
CLINICAL_SPECIFICITY_THRESHOLD=0.85
CLINICAL_BIAS_THRESHOLD=0.80

# DSM-5-TR Validation
DSM_CRITERIA_ACCURACY_THRESHOLD=0.88
DSM_SEVERITY_ACCURACY_THRESHOLD=0.82
DSM_CULTURAL_SENSITIVITY_THRESHOLD=0.85

# Risk Assessment Validation
SUICIDE_RISK_SENSITIVITY=0.95
SELF_HARM_RISK_SENSITIVITY=0.90
VIOLENCE_RISK_SENSITIVITY=0.88

# -----------------------------------------------------------------------------
# MULTILINGUAL SUPPORT
# -----------------------------------------------------------------------------
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,sw,fr
TRANSLATION_SERVICE_ENABLED=true
TRANSLATION_QUALITY_THRESHOLD=0.85

# Language-Specific Models
EN_MODEL_ACCURACY_THRESHOLD=0.90
SW_MODEL_ACCURACY_THRESHOLD=0.85
FR_MODEL_ACCURACY_THRESHOLD=0.85

# Cultural Context
CULTURAL_CONTEXT_DETECTION=true
CULTURAL_BIAS_MITIGATION=true
CULTURAL_ADAPTATION_MODELS=true

# -----------------------------------------------------------------------------
# SECURITY CONFIGURATION
# -----------------------------------------------------------------------------
# Encryption Keys (Generated by security-setup.sh)
MH_DATA_ENCRYPTION_KEY_PATH=.keys/data-encryption.key
MH_JWT_SECRET_PATH=.keys/jwt-secret.key
MH_SESSION_SECRET_PATH=.keys/session-secret.key
MH_API_INTERNAL_KEY_PATH=.keys/api-internal.key

# SSL/TLS Configuration
MH_SSL_ENABLED=true
MH_SSL_CERT_PATH=.certs/certificate.crt
MH_SSL_KEY_PATH=.certs/private.key
MH_SSL_CA_PATH=.certs/ca-bundle.crt

# Access Control
MH_RBAC_ENABLED=true
MH_MFA_ENABLED=true
MH_SESSION_TIMEOUT=900  # 15 minutes
MH_MAX_LOGIN_ATTEMPTS=5
MH_LOCKOUT_DURATION=900  # 15 minutes

# Audit Logging
MH_AUDIT_ENABLED=true
MH_AUDIT_LEVEL=comprehensive
MH_AUDIT_RETENTION_DAYS=2555  # 7 years
MH_AUDIT_REAL_TIME_ALERTS=true

# -----------------------------------------------------------------------------
# API RATE LIMITING
# -----------------------------------------------------------------------------
MH_RATE_LIMIT_ENABLED=true
MH_RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
MH_RATE_LIMIT_MAX_REQUESTS=100
MH_RATE_LIMIT_SKIP_SUCCESSFUL=false

# Specific Endpoint Limits
MH_ASSESSMENT_RATE_LIMIT=10  # per 15 minutes
MH_DIAGNOSIS_RATE_LIMIT=5    # per 15 minutes
MH_CRISIS_RATE_LIMIT=20      # per 15 minutes (higher for emergencies)

# -----------------------------------------------------------------------------
# MONITORING AND ALERTING
# -----------------------------------------------------------------------------
MH_MONITORING_ENABLED=true
MH_HEALTH_CHECK_INTERVAL=30000  # 30 seconds
MH_METRICS_COLLECTION_INTERVAL=60000  # 1 minute

# Alert Thresholds
MH_ERROR_RATE_THRESHOLD=0.05  # 5%
MH_RESPONSE_TIME_THRESHOLD=2000  # 2 seconds
MH_MEMORY_USAGE_THRESHOLD=0.80  # 80%
MH_CPU_USAGE_THRESHOLD=0.75     # 75%

# Alert Channels
MH_ALERT_EMAIL_ENABLED=true
MH_ALERT_EMAIL_RECIPIENTS=admin@watsonx-hub.com,security@watsonx-hub.com
MH_ALERT_SMS_ENABLED=true
MH_ALERT_SMS_RECIPIENTS=+1234567890
MH_ALERT_WEBHOOK_ENABLED=true
MH_ALERT_WEBHOOK_URL=https://alerts.watsonx-hub.com/mental-health

# -----------------------------------------------------------------------------
# CRISIS INTERVENTION CONFIGURATION
# -----------------------------------------------------------------------------
CRISIS_INTERVENTION_ENABLED=true
CRISIS_HOTLINE_NUMBERS=988,1-800-273-8255  # US National Suicide Prevention Lifeline
CRISIS_CHAT_ENABLED=true
CRISIS_ESCALATION_ENABLED=true
CRISIS_NOTIFICATION_ENABLED=true

# Emergency Contacts
EMERGENCY_CONTACT_EMAIL=crisis@watsonx-hub.com
EMERGENCY_CONTACT_PHONE=+1-800-CRISIS-1
EMERGENCY_CONTACT_SMS=+1234567890

# Crisis Risk Thresholds
SUICIDE_RISK_IMMEDIATE_THRESHOLD=0.8
SELF_HARM_RISK_IMMEDIATE_THRESHOLD=0.7
VIOLENCE_RISK_IMMEDIATE_THRESHOLD=0.75

# -----------------------------------------------------------------------------
# RESEARCH AND ANALYTICS
# -----------------------------------------------------------------------------
RESEARCH_MODE_ENABLED=false
ANONYMIZED_DATA_SHARING=false
RESEARCH_IRB_APPROVAL_REQUIRED=true
RESEARCH_CONSENT_REQUIRED=true

# Analytics Configuration
ANALYTICS_ENABLED=true
ANALYTICS_ANONYMIZATION=true
ANALYTICS_AGGREGATION_ONLY=true
ANALYTICS_RETENTION_DAYS=365

# Research Data Export
RESEARCH_DATA_EXPORT_ENABLED=false
RESEARCH_DATA_ENCRYPTION_REQUIRED=true
RESEARCH_DATA_APPROVAL_REQUIRED=true

# -----------------------------------------------------------------------------
# INTEGRATION CONFIGURATION
# -----------------------------------------------------------------------------
# Electronic Health Records (EHR) Integration
EHR_INTEGRATION_ENABLED=false
EHR_SYSTEM_TYPE=epic  # epic, cerner, allscripts
EHR_API_ENDPOINT=
EHR_API_KEY=
EHR_SYNC_INTERVAL=3600000  # 1 hour

# Laboratory Information System (LIS) Integration
LIS_INTEGRATION_ENABLED=false
LIS_API_ENDPOINT=
LIS_API_KEY=

# Pharmacy Information System Integration
PHARMACY_INTEGRATION_ENABLED=false
PHARMACY_API_ENDPOINT=
PHARMACY_API_KEY=

# -----------------------------------------------------------------------------
# BACKUP AND DISASTER RECOVERY
# -----------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_SCHEDULE_FULL=0 2 * * 0      # Weekly full backup
BACKUP_SCHEDULE_INCREMENTAL=0 2 * * 1-6  # Daily incremental
BACKUP_RETENTION_DAYS=90
BACKUP_ENCRYPTION_ENABLED=true
BACKUP_COMPRESSION_ENABLED=true

# Backup Destinations
BACKUP_LOCAL_ENABLED=true
BACKUP_LOCAL_PATH=/backup/mental-health
BACKUP_CLOUD_ENABLED=true
BACKUP_CLOUD_PROVIDER=ibm-cloud-object-storage
BACKUP_CLOUD_BUCKET=watsonx-hub-mh-backups
BACKUP_OFFSITE_ENABLED=true

# Disaster Recovery
DR_ENABLED=true
DR_RTO_MINUTES=240  # Recovery Time Objective: 4 hours
DR_RPO_MINUTES=60   # Recovery Point Objective: 1 hour
DR_TESTING_SCHEDULE=0 3 1 * *  # Monthly DR testing

# -----------------------------------------------------------------------------
# DEVELOPMENT AND TESTING
# -----------------------------------------------------------------------------
# Development Mode
DEV_MODE=true
DEV_MOCK_WATSONX=false
DEV_SEED_DATA=true
DEV_AUTO_MIGRATE=true
DEV_DEBUG_LOGGING=true

# Testing Configuration
TEST_DATABASE_SUFFIX=_test
TEST_REDIS_DB=1
TEST_TIMEOUT=30000
TEST_COVERAGE_THRESHOLD=80

# Mock Data Generation
MOCK_PATIENT_COUNT=100
MOCK_ASSESSMENT_COUNT=500
MOCK_DIAGNOSIS_COUNT=300
MOCK_CULTURAL_DIVERSITY=true

# -----------------------------------------------------------------------------
# PERFORMANCE OPTIMIZATION
# -----------------------------------------------------------------------------
# Caching Configuration
CACHE_ENABLED=true
CACHE_TTL_ASSESSMENTS=1800    # 30 minutes
CACHE_TTL_DIAGNOSES=3600      # 1 hour
CACHE_TTL_MODELS=86400        # 24 hours
CACHE_TTL_CULTURAL_DATA=43200 # 12 hours

# Connection Pooling
DB_POOL_MIN_CONNECTIONS=5
DB_POOL_MAX_CONNECTIONS=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_CONNECTION_TIMEOUT=2000

# Request Processing
MAX_REQUEST_SIZE=10mb
REQUEST_TIMEOUT=30000
CONCURRENT_REQUESTS_LIMIT=100

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
FEATURE_DSM_5_SUPPORT=true
FEATURE_DSM_5_TR_SUPPORT=true
FEATURE_ICD_11_SUPPORT=false
FEATURE_CULTURAL_ADAPTATION=true
FEATURE_MULTILINGUAL_SUPPORT=true
FEATURE_CRISIS_INTERVENTION=true
FEATURE_RISK_ASSESSMENT=true
FEATURE_TREATMENT_RECOMMENDATIONS=true
FEATURE_RESEARCH_MODE=false
FEATURE_EHR_INTEGRATION=false
FEATURE_TELEMEDICINE=false

# Experimental Features
FEATURE_AI_THERAPY_ASSISTANT=false
FEATURE_PREDICTIVE_ANALYTICS=false
FEATURE_VOICE_ANALYSIS=false
FEATURE_SENTIMENT_ANALYSIS=true
FEATURE_BEHAVIORAL_PATTERNS=false

# -----------------------------------------------------------------------------
# LEGAL AND COMPLIANCE
# -----------------------------------------------------------------------------
# Terms of Service and Privacy Policy
TERMS_OF_SERVICE_URL=https://watsonx-hub.com/terms
PRIVACY_POLICY_URL=https://watsonx-hub.com/privacy
CONSENT_MANAGEMENT_ENABLED=true
GDPR_COMPLIANCE_ENABLED=true
CCPA_COMPLIANCE_ENABLED=true

# Data Subject Rights
DATA_PORTABILITY_ENABLED=true
RIGHT_TO_ERASURE_ENABLED=true
RIGHT_TO_RECTIFICATION_ENABLED=true
DATA_BREACH_NOTIFICATION_ENABLED=true

# Legal Documentation Paths
LEGAL_DOCS_PATH=documents/legal/
CONSENT_FORMS_PATH=documents/consent-forms/
PRIVACY_NOTICES_PATH=documents/privacy-notices/

# -----------------------------------------------------------------------------
# LOCALIZATION
# -----------------------------------------------------------------------------
# Timezone Configuration
DEFAULT_TIMEZONE=UTC
SUPPORTED_TIMEZONES=UTC,America/New_York,Europe/London,Africa/Nairobi,Europe/Paris

# Currency and Regional Settings
DEFAULT_CURRENCY=USD
SUPPORTED_CURRENCIES=USD,EUR,KES,TZS,UGX
DATE_FORMAT=YYYY-MM-DD
TIME_FORMAT=HH:mm:ss

# Cultural Holidays and Observances
CULTURAL_CALENDAR_ENABLED=true
RELIGIOUS_OBSERVANCES_ENABLED=true
CULTURAL_SENSITIVITY_ALERTS=true